(this["webpackJsonpbook-search"]=this["webpackJsonpbook-search"]||[]).push([[0],{11:function(e,t,r){},28:function(e,t,r){},49:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),s=r(20),a=r.n(s),i=(r(28),r(3)),o=r.n(i),l=r(8),u=r(23),j=r(4),b=(r(11),r(21)),d=r.n(b),h=function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://openlibrary.org/search.json",{params:{q:t}});case 2:return r=e.sent,e.abrupt("return",r.data.docs);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=r(0),x=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"loading"})})},p=r(22);var v=function(){return Object(O.jsxs)("div",{className:"top-header",children:[Object(O.jsx)("h1",{className:"heading",children:"Book Search Tool "}),Object(O.jsx)("div",{children:Object(O.jsx)(p.a,{className:"book-icon"})})]})};var f=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),r=t[0],c=t[1],s=Object(n.useState)(""),a=Object(j.a)(s,2),i=a[0],b=a[1],d=Object(n.useState)([]),p=Object(j.a)(d,2),f=p[0],m=p[1],g=Object(n.useState)(!1),k=Object(j.a)(g,2),N=k[0],y=k[1],_=Object(n.useState)("title"),S=Object(j.a)(_,2),w=S[0],C=S[1],F=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==r&&null!==r){e.next=2;break}return e.abrupt("return");case 2:return y(!0),e.next=5,h(r);case 5:t=e.sent,m(t.filter((function(e){return e.title&&e.first_publish_year&&e.author_name&&e.cover_i})).map((function(e){return{title:e.title,cover:"https://covers.openlibrary.org/b/id/".concat(e.cover_i,"-M.jpg"),author:e.author_name[0],published_date:e.first_publish_year}})).sort((function(e,t){return e[w]>t[w]?1:-1}))),y(!1),b(r),c("");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return N?Object(O.jsx)(x,{}):Object(O.jsxs)("div",{className:"app",children:[Object(O.jsx)(v,{}),Object(O.jsxs)("div",{className:"container mx-auto",children:[Object(O.jsxs)("div",{className:"header h-center",children:[Object(O.jsxs)("div",{className:"search-box",children:[Object(O.jsx)("input",{"aria-label":"search-query",value:r,onChange:function(e){return c(e.target.value)},placeholder:"Plase input the query"}),Object(O.jsx)("button",{type:"button",onClick:F,children:"Search"})]}),Object(O.jsxs)("div",{className:"sort-box",children:[Object(O.jsx)("label",{htmlFor:"sortBy",children:"Sort By \xa0"}),Object(O.jsxs)("select",{"aria-label":"sort-by",id:"sortBy",onChange:function(e){return function(e){var t=f.sort((function(t,r){return t[e]>r[e]?1:-1}));m(Object(u.a)(t)),C(e)}(e.target.value)},value:w,children:[Object(O.jsx)("option",{value:"title",children:"Title"}),Object(O.jsx)("option",{value:"published_date",children:"Published Date"})]})]})]}),Object(O.jsxs)("div",{className:"book-container","data-testid":"books",children:[0!==f.length?Object(O.jsxs)("h1",{className:"results-text",children:["Found (",f.length,") results for ",i]}):"",Object(O.jsx)("div",{className:"book-list",children:f.map((function(e,t){return Object(O.jsxs)("div",{className:"book d-flex",children:[Object(O.jsxs)("div",{className:"book-details",children:[Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Title:"})," ",e.title]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Author:"})," ",e.title]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Published Date:"})," ",e.published_date]})]}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"book-cover",children:Object(O.jsx)("img",{src:e.cover,width:"100%",alt:"Cover"})})})]},t)}))})]})]})]})},m=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,50)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;r(e),n(e),c(e),s(e),a(e)}))};a.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(f,{})}),document.getElementById("root")),m()}},[[49,1,2]]]);
//# sourceMappingURL=main.50e33379.chunk.js.map