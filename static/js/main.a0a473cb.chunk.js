(this["webpackJsonpbook-search"]=this["webpackJsonpbook-search"]||[]).push([[0],{11:function(e,t,r){},29:function(e,t,r){},50:function(e,t,r){"use strict";r.r(t);var c=r(1),s=r.n(c),n=r(20),a=r.n(n),i=(r(29),r(4)),o=r.n(i),l=r(8),u=r(24),j=r(3),b=(r(11),r(21)),d=r.n(b),h=function(){var e=Object(l.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://openlibrary.org/search.json",{params:{q:t}});case 2:return r=e.sent,e.abrupt("return",r.data.docs);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=r(0),x=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"loading"})})},p=r(23);var v=function(){return Object(O.jsxs)("div",{className:"top-header",children:[Object(O.jsx)("h1",{className:"heading",children:"Book Search Tool "}),Object(O.jsx)("div",{children:Object(O.jsx)(p.a,{className:"book-icon"})})]})},f=r(22),m=r.n(f);var g=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),r=t[0],s=t[1],n=Object(c.useState)(""),a=Object(j.a)(n,2),i=a[0],b=a[1],d=Object(c.useState)(""),p=Object(j.a)(d,2),f=p[0],g=p[1],N=Object(c.useState)([]),y=Object(j.a)(N,2),k=y[0],S=y[1],_=Object(c.useState)(!1),F=Object(j.a)(_,2),q=F[0],w=F[1],C=Object(c.useState)("title"),B=Object(j.a)(C,2),P=B[0],E=B[1],T=Object(c.useState)({queryError:""}),D=Object(j.a)(T,2),I=D[0],J=D[1],L=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==r&&null!==r){e.next=3;break}return J({queryError:"Please enter valid value"}),e.abrupt("return");case 3:return w(!0),e.next=6,h(r);case 6:0!==(t=e.sent).length?b("true"):b("false"),S(t.filter((function(e){return e.title&&e.first_publish_year&&e.author_name&&e.cover_i})).map((function(e){return{title:e.title,cover:"https://covers.openlibrary.org/b/id/".concat(e.cover_i,"-M.jpg"),author:e.author_name[0],published_date:e.first_publish_year}})).sort((function(e,t){return e[P]>t[P]?1:-1}))),w(!1),g(r),s(""),J({});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return q?Object(O.jsx)(x,{}):Object(O.jsxs)("div",{className:"app",children:[Object(O.jsx)(v,{}),Object(O.jsxs)("div",{className:"container mx-auto",children:[Object(O.jsxs)("div",{className:"header h-center",children:[Object(O.jsxs)("div",{className:"search-box",children:[Object(O.jsx)("input",{"aria-label":"search-query",value:r,onChange:function(e){s(e.target.value),e.target.value.length>0?J(!1):J(!0)},placeholder:"Plase input the query",className:m()({error:I.queryError})}),Object(O.jsx)("button",{type:"button",onClick:L,children:"Search"}),Object(O.jsx)("p",{className:"text-error",children:Object(O.jsx)("small",{children:I.queryError})})]}),Object(O.jsxs)("div",{className:"sort-box",children:[Object(O.jsx)("label",{htmlFor:"sortBy",children:"Sort By \xa0"}),Object(O.jsxs)("select",{"aria-label":"sort-by",id:"sortBy",onChange:function(e){return function(e){var t=k.sort((function(t,r){return t[e]>r[e]?1:-1}));S(Object(u.a)(t)),E(e)}(e.target.value)},value:P,children:[Object(O.jsx)("option",{value:"title",children:"Title"}),Object(O.jsx)("option",{value:"published_date",children:"Published Date"})]})]})]}),Object(O.jsxs)("div",{className:"book-container","data-testid":"books",children:["true"===i&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("h1",{className:"results-text",children:["Found (",k.length,') results for "',f,'"']}),Object(O.jsx)("div",{className:"book-list",children:k.map((function(e,t){return Object(O.jsxs)("div",{className:"book d-flex",children:[Object(O.jsxs)("div",{className:"book-details",children:[Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Title:"})," ",e.title]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Author:"})," ",e.title]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Published Date:"})," ",e.published_date]})]}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"book-cover",children:Object(O.jsx)("img",{src:e.cover,width:"100%",alt:"Cover"})})})]},t)}))})]}),"false"===i&&Object(O.jsxs)("h1",{className:"results-text",children:['No Result Found for "',f,'"']})]})]})]})},N=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,51)).then((function(t){var r=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,a=t.getTTFB;r(e),c(e),s(e),n(e),a(e)}))};a.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(g,{})}),document.getElementById("root")),N()}},[[50,1,2]]]);
//# sourceMappingURL=main.a0a473cb.chunk.js.map