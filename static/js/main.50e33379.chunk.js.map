{"version":3,"sources":["utils/index.js","components/Loading.jsx","components/Header.jsx","App.js","reportWebVitals.js","index.js"],"names":["FetchDocs","q","a","axios","get","params","response","data","docs","Loading","className","Header","App","useState","query","setQuery","queryResult","setQueryResult","books","setBooks","loading","setLoading","sortBy","setSortBy","searchBooks","filter","doc","title","first_publish_year","author_name","cover_i","map","cover","author","published_date","sort","b","value","onChange","e","target","placeholder","type","onClick","htmlFor","id","attr","sortedBooks","sortByAttr","length","book","index","src","width","alt","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.50e33379.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nexport const FetchDocs = async (q) => {\r\n  const response = await axios.get(\r\n    'https://openlibrary.org/search.json',\r\n    {\r\n      params: {\r\n        q,\r\n      }\r\n    }\r\n  )\r\n\r\n  return response.data.docs\r\n}\r\n","import React from 'react'\r\nimport '../App.css'\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <>\r\n      <div className=\"loading\" />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Loading\r\n","import React from 'react';\r\nimport { GiBookCover } from \"react-icons/gi\";\r\n\r\nfunction Header() {\r\n    return (\r\n        <div className=\"top-header\">\r\n            <h1 className=\"heading\">Book Search Tool </h1>\r\n            <div><GiBookCover className=\"book-icon\" /></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import './App.css';\nimport { FetchDocs } from './utils'\nimport { useState } from 'react'\nimport Loading from './components/Loading'\nimport Header from './components/Header'\n\nfunction App() {\n  const [query, setQuery] = useState('')\n  const [queryResult, setQueryResult] = useState('')\n  const [books, setBooks] = useState([])\n  const [loading, setLoading] = useState(false)\n  const [sortBy, setSortBy] = useState('title')\n\n\n  const sortByAttr = (attr) => {\n    const sortedBooks = books.sort((a, b) => a[attr] > b[attr] ? 1 : -1)\n    setBooks([...sortedBooks])\n    setSortBy(attr)\n  }\n\n  const searchBooks = async () => {\n    if (query === '' || query === null) return\n\n    setLoading(true)\n\n    const docs = await FetchDocs(query)\n\n    setBooks(\n      docs\n        .filter(doc => (doc.title && doc.first_publish_year && doc.author_name && doc.cover_i))\n        .map(doc => ({\n          title: doc.title,\n          cover: `https://covers.openlibrary.org/b/id/${doc.cover_i}-M.jpg`,\n          author: doc.author_name[0],\n          published_date: doc.first_publish_year\n        }))\n        .sort((a, b) => a[sortBy] > b[sortBy] ? 1 : -1))\n\n    setLoading(false)\n    setQueryResult(query)\n    setQuery(\"\")\n  }\n\n  if (loading) return <Loading />\n\n  return (\n    <div className=\"app\">\n      <Header />\n      <div className=\"container mx-auto\">\n\n        <div className=\"header h-center\">\n          <div className=\"search-box\">\n            <input\n              aria-label=\"search-query\"\n              value={query}\n              onChange={e => setQuery(e.target.value)}\n              placeholder=\"Plase input the query\"\n            />\n            <button type=\"button\" onClick={searchBooks}>Search</button>\n          </div>\n\n          <div className=\"sort-box\">\n            <label htmlFor=\"sortBy\">Sort By &nbsp;</label>\n            <select\n              aria-label=\"sort-by\"\n              id=\"sortBy\"\n              onChange={(e) => sortByAttr(e.target.value)}\n              value={sortBy}\n            >\n              <option value=\"title\">Title</option>\n              <option value=\"published_date\">Published Date</option>\n            </select>\n          </div>\n        </div>\n\n        <div className=\"book-container\" data-testid='books'>\n          {books.length !== 0 ? <h1 className=\"results-text\">Found ({books.length}) results for {queryResult}</h1> : \"\"}\n          <div className=\"book-list\">\n            {books.map((book, index) => (\n              <div className=\"book d-flex\" key={index}>\n                <div className=\"book-details\">\n                  <p><strong>Title:</strong> {book.title}</p>\n                  <p><strong>Author:</strong> {book.title}</p>\n                  <p><strong>Published Date:</strong> {book.published_date}</p>\n                </div>\n                <div>\n                  <div className=\"book-cover\">\n                    <img src={book.cover} width=\"100%\" alt=\"Cover\" />\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}